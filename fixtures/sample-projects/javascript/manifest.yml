language: javascript
node_version: "20.11.0"
tools:
  - name: jest
    version: "29.7.0"
  - name: jest-html-reporter
    version: "3.10.2"
  - name: "@playwright/test"
    version: "1.40.0"
  - name: eslint
    version: "8.56.0"
  - name: typescript
    version: "5.3.3"

artifacts:
  - file: "jest-results.json"
    type: jest-json
    format: json
    description: "Jest JSON reporter: 5 pass, 2 fail, 1 skip"
    coverage_target: "validators/jest-validator.ts"

  - file: "jest-report.html"
    type: jest-html
    format: html
    description: "Jest HTML reporter: test summary with details"
    coverage_target: "validators/jest-validator.ts"

  - file: "jest-output.txt"
    type: jest-txt
    format: txt
    description: "Jest text output: plain text format with test results"
    coverage_target: "validators/jest-validator.ts"

  - file: "playwright-results.json"
    type: playwright-json
    format: json
    description: "Playwright JSON: 3 pass, 1 fail"
    coverage_target: "validators/playwright-validator.ts"

  - file: "eslint-output.txt"
    type: eslint-txt
    format: txt
    description: "ESLint output with violations"
    coverage_target: "validators/linter-validator.ts"

  - file: "eslint-results.json"
    type: eslint-json
    format: json
    description: "ESLint JSON: reports linting violations"
    coverage_target: "validators/eslint-validator.ts"

  - file: "tsc-output.txt"
    type: tsc-txt
    format: txt
    description: "TypeScript compiler errors"
    coverage_target: "validators/linter-validator.ts"

commands:
  generate: "docker-compose up --build"
  clean: "docker-compose down -v && rm -rf ../../generated/javascript"
